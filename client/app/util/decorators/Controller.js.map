{"version":3,"sources":["../../../app-src/util/decorators/Controller.js"],"names":["controller","seletores","elements","map","seletor","document","querySelector","constructor","constructorOriginal","constructorNovo","instance","Object","getOwnPropertyNames","prototype","forEach","property","Reflect","hasMetadata","associaEvento","getMetadata","metadado","selector","addEventListener","event","prevent","preventDefault","propertyKey"],"mappings":";;;AAAO,WAASA,UAAT,CAAoB,GAAGC,SAAvB,EAAkC;AACvC,UAAMC,WAAWD,UAAUE,GAAV,CAAeC,OAAD,IAAaC,SAASC,aAAT,CAAuBF,OAAvB,CAA3B,CAAjB;;AAEA,WAAO,UAAUG,WAAV,EAAuB;AAC5B,YAAMC,sBAAsBD,WAA5B;;AAEA,YAAME,kBAAkB,YAAY;AAClC,cAAMC,WAAW,IAAIF,mBAAJ,CAAwB,GAAGN,QAA3B,CAAjB;AACAS,eAAOC,mBAAP,CAA2BJ,oBAAoBK,SAA/C,EAA0DC,OAA1D,CACGC,QAAD,IAAc;AACZ,cAAIC,QAAQC,WAAR,CAAoB,WAApB,EAAiCP,QAAjC,EAA2CK,QAA3C,CAAJ,EAA0D;AACxDG,0BACER,QADF,EAEEM,QAAQG,WAAR,CAAoB,WAApB,EAAiCT,QAAjC,EAA2CK,QAA3C,CAFF;AAID;AACF,SARH;AAUD,OAZD;;AAcAN,sBAAgBI,SAAhB,GAA4BL,oBAAoBK,SAAhD;;AAEA,aAAOJ,eAAP;AACD,KApBD;AAqBD;;wBAxBeT,U;;AA0BhB,WAASkB,aAAT,CAAuBR,QAAvB,EAAiCU,QAAjC,EAA2C;AACzCf,aACGC,aADH,CACiBc,SAASC,QAD1B,EAEGC,gBAFH,CAEoBF,SAASG,KAF7B,EAEqCA,KAAD,IAAW;AAC3C,UAAIH,SAASI,OAAb,EAAsBD,MAAME,cAAN;AACtBf,eAASU,SAASM,WAAlB,EAA+BH,KAA/B;AACD,KALH;AAMD","file":"Controller.js","sourcesContent":["export function controller(...seletores) {\n  const elements = seletores.map((seletor) => document.querySelector(seletor))\n\n  return function (constructor) {\n    const constructorOriginal = constructor\n\n    const constructorNovo = function () {\n      const instance = new constructorOriginal(...elements)\n      Object.getOwnPropertyNames(constructorOriginal.prototype).forEach(\n        (property) => {\n          if (Reflect.hasMetadata('bindEvent', instance, property)) {\n            associaEvento(\n              instance,\n              Reflect.getMetadata('bindEvent', instance, property),\n            )\n          }\n        },\n      )\n    }\n\n    constructorNovo.prototype = constructorOriginal.prototype\n\n    return constructorNovo\n  }\n}\n\nfunction associaEvento(instance, metadado) {\n  document\n    .querySelector(metadado.selector)\n    .addEventListener(metadado.event, (event) => {\n      if (metadado.prevent) event.preventDefault()\n      instance[metadado.propertyKey](event)\n    })\n}\n"]}